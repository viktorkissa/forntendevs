(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{296:function(e,t,a){e.exports={my_posts:"MyPosts_my_posts__KrrwU",new_post:"MyPosts_new_post__1PnnO"}},297:function(e,t,a){e.exports={item:"Post_item__ihtu9",like:"Post_like__oViQh"}},298:function(e,t,a){e.exports={main_img:"ProfileInfo_main_img__7BfSS",avatar_content:"ProfileInfo_avatar_content__2wWZb",logo:"ProfileInfo_logo__2_ojy",about:"ProfileInfo_about__ogyhT",avatar__uploadBtn:"ProfileInfo_avatar__uploadBtn__K6XjH"}},299:function(e,t,a){e.exports={statusWrapper:"ProfileStatus_statusWrapper__2EA8v"}},300:function(e,t,a){"use strict";a.r(t);var s=a(33),n=a(34),r=a(36),o=a(35),u=a(37),l=a(0),c=a.n(l),i=a(296),p=a.n(i),m=a(297),f=a.n(m),d=function(e){var t=e.postData;return c.a.createElement("div",{className:f.a.item},c.a.createElement("span",{className:f.a.like},t.likes),t.message)},_=a(126),h=a(127),v=a(75),E=a(65),b=Object(v.a)(10),P=c.a.memo(function(e){var t=e.posts.map(function(e){return c.a.createElement(d,{key:e.id,postData:e})});return c.a.createElement("div",{className:p.a.my_posts},c.a.createElement(g,{onSubmit:function(t){var a=t.newPostText;e.addPost(a)}}),c.a.createElement("div",{className:p.a.posts},t))}),g=Object(h.a)({form:"postForm"})(function(e){return c.a.createElement("form",{onSubmit:e.handleSubmit,className:p.a.new_post},c.a.createElement(_.a,{component:E.b,name:"newPostText",placeholder:"Post message",validate:[v.b,b]}),c.a.createElement("button",{className:"btn"},"Add Post"))}),O=P,j=a(96),N=a(12),w=Object(N.b)(function(e){return{posts:e.profilePage.posts}},{addPost:j.a})(O),S=a(40),y=a(298),k=a.n(y),I=a(39),x=a(128),B=a(299),D=a.n(B),U=function(e){var t=Object(l.useState)(!1),a=Object(x.a)(t,2),s=a[0],n=a[1],r=Object(l.useState)(e.status),o=Object(x.a)(r,2),u=o[0],i=o[1];Object(l.useEffect)(function(){i(e.status)},[e.status]);return c.a.createElement(c.a.Fragment,null,!s&&c.a.createElement("div",{className:D.a.statusWrapper},c.a.createElement("p",{onDoubleClick:function(){n(!0)}},e.status||"-----")),s&&c.a.createElement("div",{className:D.a.statusWrapper},c.a.createElement("input",{onChange:function(e){i(e.currentTarget.value)},autoFocus:!0,onBlur:function(){n(!1),e.updateStatus(u)},value:u})))},W=a(124),A=a.n(W),C=function(e){var t=e.profile,a=e.status,s=e.updateStatus,n=e.isOwner,r=e.savePhoto;if(!t)return c.a.createElement(I.a,null);var o=t.contacts,u=[];for(var l in o)u=[].concat(Object(S.a)(u),[{prop:o[l]}]);return c.a.createElement("div",null,c.a.createElement("div",{className:k.a.avatar_content},c.a.createElement("div",{className:k.a.avatar__logo_wrapper},c.a.createElement("div",{className:k.a.logo},c.a.createElement("img",{src:t.photos.large||A.a,alt:"Photo"})),n&&c.a.createElement("div",{className:k.a.avatar__uploadBtn},c.a.createElement("input",{type:"file",onChange:function(e){e.target.files.length&&r(e.target.files[0])}}),c.a.createElement("span",null,"Upload photo"))),c.a.createElement("div",{className:k.a.about},c.a.createElement("span",{className:k.a.fullName},t.fullName),c.a.createElement(U,{status:a,updateStatus:s}))),c.a.createElement("div",{className:k.a.contacts},u.map(function(e){return c.a.createElement("div",{className:k.a.contacts__item},c.a.createElement("span",null,Object.entries(e)[0],":"),c.a.createElement("span",null,Object.entries(e)[1]))})),c.a.createElement("div",{className:k.a.job}))},T=function(e){var t=e.profile,a=e.status,s=e.updateStatus,n=e.isOwner,r=e.savePhoto;return c.a.createElement("div",null,c.a.createElement(C,{profile:t,status:a,updateStatus:s,isOwner:n,savePhoto:r}),c.a.createElement(w,null))},F=a(7),M=a(29),z=function(e){function t(){return Object(s.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(n.a)(t,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return c.a.createElement(T,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto}))}}]),t}(c.a.Component);t.default=Object(F.d)(M.g,Object(N.b)(function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}},{getProfile:j.c,getStatus:j.d,updateStatus:j.f,savePhoto:j.e}))(z)}}]);
//# sourceMappingURL=3.83e6f5c6.chunk.js.map